/**
 * Match Animations
 * Subtle celebratory effects for successful matches
 */

/* ============================================
   MATCH CELEBRATION PULSE
   ============================================ */

@keyframes matchCelebration {
    0%, 100% {
        transform: scale(1);
    }
    25% {
        transform: scale(1.1);
    }
    50% {
        transform: scale(1.05);
    }
    75% {
        transform: scale(1.1);
    }
}

@keyframes matchGlow {
    0%, 100% {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    50% {
        box-shadow: 0 4px 20px rgba(102, 126, 234, 0.6),
                    0 0 30px rgba(102, 126, 234, 0.4);
    }
}

@keyframes matchFadeOut {
    0% {
        opacity: 1;
    }
    100% {
        opacity: 0.5;
    }
}

/* Apply animations to matched cards */
.pokemon-card--matched {
    animation: matchCelebration 0.5s ease-out;
}

.pokemon-card--matched .pokemon-card__inner {
    animation: matchGlow 0.5s ease-out,
               matchFadeOut 0.3s ease-out 0.5s forwards;
}

/* ============================================
   MISMATCH SHAKE (SUBTLE)
   ============================================ */

@keyframes mismatchShake {
    0%, 100% {
        transform: translateX(0);
    }
    25% {
        transform: translateX(-5px);
    }
    75% {
        transform: translateX(5px);
    }
}

/* Can be applied programmatically on mismatch */
.pokemon-card--mismatch {
    animation: mismatchShake 0.3s ease-in-out;
}

/* ============================================
   GAME COMPLETION CELEBRATION
   ============================================ */

@keyframes victoryPulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.02);
    }
}

@keyframes victoryGlow {
    0%, 100% {
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    }
    50% {
        box-shadow: 0 8px 32px rgba(255, 215, 0, 0.5),
                    0 0 40px rgba(255, 215, 0, 0.3);
    }
}

/* Apply to game board on completion */
.game-board--completed {
    animation: victoryPulse 2s ease-in-out infinite,
               victoryGlow 2s ease-in-out infinite;
}

/* ============================================
   FADE IN ANIMATIONS (FOR NEW ELEMENTS)
   ============================================ */

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInFromTop {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInFromBottom {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Utility classes for fade-in effects */
.fade-in {
    animation: fadeIn 0.3s ease-out;
}

.slide-in-top {
    animation: slideInFromTop 0.4s ease-out;
}

.slide-in-bottom {
    animation: slideInFromBottom 0.4s ease-out;
}

/* ============================================
   PERFORMANCE OPTIMIZATION
   ============================================ */

/* Use GPU acceleration for animations */
.pokemon-card--matched,
.pokemon-card--mismatch,
.game-board--completed {
    will-change: transform, opacity, box-shadow;
}

/* Reset will-change after animation completes */
.pokemon-card--matched.animation-done,
.pokemon-card--mismatch.animation-done,
.game-board--completed.animation-done {
    will-change: auto;
}

/* ============================================
   REDUCED MOTION SUPPORT
   ============================================ */

@media (prefers-reduced-motion: reduce) {
    .pokemon-card--matched,
    .pokemon-card--mismatch,
    .game-board--completed,
    .fade-in,
    .slide-in-top,
    .slide-in-bottom {
        animation: none;
    }

    /* Just apply final state without animation */
    .pokemon-card--matched .pokemon-card__inner {
        opacity: 0.5;
    }
}
